CREATE DATABASE  IF NOT EXISTS `motorph_payroll_db` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `motorph_payroll_db`;
-- MySQL dump 10.13  Distrib 8.0.42, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: motorph_payroll_db
-- ------------------------------------------------------
-- Server version	8.0.42

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `government_deduction_chart`
--

DROP TABLE IF EXISTS `government_deduction_chart`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `government_deduction_chart` (
  `gov_deduction_chart_id` int NOT NULL AUTO_INCREMENT,
  `gov_deduction_type_id` int DEFAULT NULL,
  `minimum_range` decimal(10,2) NOT NULL,
  `maximum_range` decimal(10,2) DEFAULT NULL,
  `fixed_amount` decimal(10,2) DEFAULT NULL,
  `employee_deduction_rate` decimal(5,2) DEFAULT NULL,
  `employer_contribution_share` decimal(5,2) DEFAULT NULL,
  `has_contribution_cap` tinyint(1) NOT NULL DEFAULT '0',
  `min_contribution` decimal(10,2) DEFAULT NULL,
  `max_contribution` decimal(10,2) DEFAULT NULL,
  `effective_at` date NOT NULL,
  `updated_at` date DEFAULT NULL,
  `notes` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`gov_deduction_chart_id`),
  KEY `fk_gov_deduction_type` (`gov_deduction_type_id`),
  CONSTRAINT `fk_gov_deduction_type` FOREIGN KEY (`gov_deduction_type_id`) REFERENCES `deduction_chart_type` (`chart_id`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `chk_employee_deduction_rate_valid` CHECK ((`employee_deduction_rate` between 0 and 100)),
  CONSTRAINT `chk_employer_contribution_rate_maximum` CHECK ((`employer_contribution_share` <= 100)),
  CONSTRAINT `chk_maximum_range_greater_than_minimum` CHECK ((`maximum_range` > `minimum_range`)),
  CONSTRAINT `chk_minimum_range_non_negative` CHECK ((`minimum_range` >= 0))
) ENGINE=InnoDB AUTO_INCREMENT=56 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `government_deduction_chart`
--

LOCK TABLES `government_deduction_chart` WRITE;
/*!40000 ALTER TABLE `government_deduction_chart` DISABLE KEYS */;
INSERT INTO `government_deduction_chart` VALUES (1,1,0.00,3250.00,135.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'Below 3,250'),(2,1,3250.00,3750.00,157.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'3250 - 3750'),(3,1,3750.00,4250.00,180.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'3750 - 4250'),(4,1,4250.00,4750.00,202.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'4250 - 4750'),(5,1,4750.00,5250.00,225.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'4750 - 5250'),(6,1,5250.00,5750.00,247.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'5250 - 5750'),(7,1,5750.00,6250.00,270.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'5750 - 6250'),(8,1,6250.00,6750.00,292.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'6250 - 6750'),(9,1,6750.00,7250.00,315.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'6750 - 7250'),(10,1,7250.00,7750.00,337.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'7250 - 7750'),(11,1,7750.00,8250.00,360.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'7750 - 8250'),(12,1,8250.00,8750.00,382.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'8250 - 8750'),(13,1,8750.00,9250.00,405.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'8750 - 9250'),(14,1,9250.00,9750.00,427.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'9250 - 9750'),(15,1,9750.00,10250.00,450.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'9750 - 10250'),(16,1,10250.00,10750.00,472.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'10250 - 10750'),(17,1,10750.00,11250.00,495.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'10750 - 11250'),(18,1,11250.00,11750.00,517.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'11250 - 11750'),(19,1,11750.00,12250.00,540.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'11750 - 12250'),(20,1,12250.00,12750.00,562.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'12250 - 12750'),(21,1,12750.00,13250.00,585.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'12750 - 13250'),(22,1,13250.00,13750.00,607.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'13250 - 13750'),(23,1,13750.00,14250.00,630.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'13750 - 14250'),(24,1,14250.00,14750.00,652.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'14250 - 14750'),(25,1,14750.00,15250.00,675.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'14750 - 15250'),(26,1,15250.00,15750.00,697.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'15250 - 15750'),(27,1,15750.00,16250.00,720.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'15750 - 16250'),(28,1,16250.00,16750.00,742.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'16250 - 16750'),(29,1,16750.00,17250.00,765.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'16750 - 17250'),(30,1,17250.00,17750.00,787.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'17250 - 17750'),(31,1,17750.00,18250.00,810.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'17750 - 18250'),(32,1,18250.00,18750.00,832.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'18250 - 18750'),(33,1,18750.00,19250.00,855.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'18750 - 19250'),(34,1,19250.00,19750.00,877.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'19250 - 19750'),(35,1,19750.00,20250.00,900.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'19750 - 20250'),(36,1,20250.00,20750.00,922.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'20250 - 20750'),(37,1,20750.00,21250.00,945.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'20750 - 21250'),(38,1,21250.00,21750.00,967.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'21250 - 21750'),(39,1,21750.00,22250.00,990.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'21750 - 22250'),(40,1,22250.00,22750.00,1012.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'22250 - 22750'),(41,1,22750.00,23250.00,1035.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'22750 - 23250'),(42,1,23250.00,23750.00,1057.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'23250 - 23750'),(43,1,23750.00,24250.00,1080.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'23750 - 24250'),(44,1,24250.00,24750.00,1102.50,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'24250 - 24750'),(45,1,24750.00,NULL,1125.00,NULL,NULL,0,NULL,NULL,'2025-01-01',NULL,'24750 - Over'),(46,2,0.00,10000.00,NULL,3.00,50.00,1,300.00,NULL,'2025-01-01',NULL,'Premium varies with salary and minimum at 300'),(47,2,10000.01,60000.00,NULL,3.00,50.00,1,NULL,1800.00,'2025-01-01',NULL,'Max premium capped at 1800'),(48,3,0.00,1499.00,NULL,1.00,2.00,0,NULL,NULL,'2025-01-01',NULL,'Contribution capped at 100 PHP'),(49,3,1500.00,NULL,NULL,2.00,2.00,1,NULL,100.00,'2025-01-01',NULL,'Contribution capped at 100 PHP'),(50,4,0.00,20832.00,0.00,0.00,NULL,0,NULL,NULL,'2025-01-01',NULL,'No withholding tax'),(51,4,20833.00,33332.99,0.00,20.00,NULL,0,NULL,NULL,'2025-01-01',NULL,'20% on excess over 20,833'),(52,4,33333.00,66666.99,2500.00,25.00,NULL,0,NULL,NULL,'2025-01-01',NULL,'₱2,500 + 25% on excess over 33,333'),(53,4,66667.00,166666.99,10833.00,30.00,NULL,0,NULL,NULL,'2025-01-01',NULL,'₱10,833 + 30% on excess over 66,667'),(54,4,166667.00,666666.99,40833.33,32.00,NULL,0,NULL,NULL,'2025-01-01',NULL,'₱40,833.33 + 32% on excess over 166,667'),(55,4,666667.00,NULL,200833.33,35.00,NULL,0,NULL,NULL,'2025-01-01',NULL,'₱200,833.33 + 35% on excess over 666,667');
/*!40000 ALTER TABLE `government_deduction_chart` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-05-27 14:46:33
